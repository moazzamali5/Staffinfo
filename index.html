<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Paticulars</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="sidebar-toggle">
        <i class="fas fa-bars"></i>
    </div>
    
    <div class="sidebar">
        <div class="sidebar-header">
        </div>
        <nav>
            <ul>
                <li><a href="#" id="staffFormLink" class="active"><i class="fas fa-user"></i> Staff Form</a></li>
                <li><a href="#" id="responsesBtn"><i class="fas fa-list"></i> Responses</a></li>
            </ul>
        </nav>
    </div>

    <div class="main-content">
        <header>
            <h2>Staff Particulars</h2>
        </header>

        <!-- Email Verification Section -->
        <div id="emailVerificationSection" class="email-verification-section">
            <h3>Email Verification</h3>
            <p>Please enter your email address to proceed with the form.</p>
            <div class="form-group">
                <label for="verificationEmail">Email Address</label>
                <input type="email" id="verificationEmail" name="verificationEmail" required>
            </div>
            <button type="button" id="proceedBtn" class="proceed-btn">Proceed</button>
        </div>

        <!-- Main Form Section -->
        <form id="staffForm" style="display: none;">
            <div class="form-row">
                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" name="firstName" required>
                </div>

                <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" name="lastName" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="bloodGroup">Blood Group</label>
                    <select id="bloodGroup" name="bloodGroup" required>
                        <option value="">Select Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="NotSure">NotSure</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="birthDate">Birth Date</label>
                    <input type="date" id="birthDate" name="birthDate" required>
                </div>

                <div class="form-group">
                    <label for="birthTime">Birth Time</label>
                    <input type="time" id="birthTime" name="birthTime" required value="00:00">
                </div>
            </div>

            <div class="form-group">
                <label for="phoneNumber">Phone Number</label>
                <input type="number" id="phoneNumber" name="phoneNumber" required>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="fatherName">Father's Name</label>
                    <input type="text" id="fatherName" name="fatherName" required>
                </div>

                <div class="form-group">
                    <label for="fatherPhone">Father's Phone Number</label>
                    <input type="tel" id="fatherPhone" name="fatherPhone" required>
                    <small class="emergency-note">Contact information in case for any emergency purposes</small>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="motherName">Mother's Name</label>
                    <input type="text" id="motherName" name="motherName" required>
                </div>

                <div class="form-group">
                    <label for="motherPhone">Mother's Phone Number</label>
                    <input type="tel" id="motherPhone" name="motherPhone" required>
                    <small class="emergency-note">Contact information in case for any emergency purposes</small>
                </div>
            </div>

            <!-- Marital Status Section -->
            <div class="form-group">
                <label>Marital Status</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="maritalStatus" value="single" checked>
                        <span class="radio-custom"></span>
                        <span class="radio-text">Single</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="maritalStatus" value="married">
                        <span class="radio-custom"></span>
                        <span class="radio-text">Married</span>
                    </label>
                </div>
            </div>

            <!-- Partner Information Section -->
            <div id="partnerInfoContainer" style="display: none;">
                <h3>Partner Information</h3>
                <div class="form-group">
                    <label for="partnerName">Partner's Name</label>
                    <input type="text" id="partnerName" name="partnerName">
                </div>
                <div class="form-group">
                    <label for="partnerContact">Partner's Contact</label>
                    <input type="tel" id="partnerContact" name="partnerContact">
                </div>
                <div class="form-group">
                    <label for="partnerIcPassport">Partner's IC/Passport Number</label>
                    <input type="text" id="partnerIcPassport" name="partnerIcPassport">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="race">Race</label>
                    <select id="race" name="race" required onchange="handleRaceChange()">
                        <option value="">Select Race</option>
                        <option value="Malay">Malay</option>
                        <option value="Chinese">Chinese</option>
                        <option value="Indian">Indian</option>
                        <option value="Other">Other</option>
                    </select>
                    <div id="otherRaceContainer">
                        <label for="otherRace">Please specify other race:</label>
                        <input type="text" id="otherRace" name="otherRace" placeholder="Enter race">
                    </div>
                </div>

                <div class="form-group">
                    <label for="religion">Religion</label>
                    <select id="religion" name="religion" required onchange="handleReligionChange()">
                        <option value="">Select Religion</option>
                        <option value="Islam">Islam</option>
                        <option value="Buddhism">Buddhism</option>
                        <option value="Christianity">Christianity</option>
                        <option value="Hinduism">Hinduism</option>
                        <option value="Other">Other</option>
                    </select>
                    <div id="otherReligionContainer">
                        <label for="otherReligion">Please specify other religion:</label>
                        <input type="text" id="otherReligion" name="otherReligion" placeholder="Enter religion">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="email">Email ID</label>
                <input type="email" id="email" name="email" required>
            </div>

            <div class="form-group">
                <label for="currentAddress">Current Address</label>
                <textarea id="currentAddress" name="currentAddress" required rows="3"></textarea>
            </div>

            <div class="form-group">
                <label for="parentAddress">Parent's Address (if different from current address)</label>
                <textarea id="parentAddress" name="parentAddress" rows="3"></textarea>
            </div>

            <div class="form-group">
                <label for="jobTitle">Job Title</label>
                <input type="text" id="jobTitle" name="jobTitle" required>
            </div>

            <div class="form-group">
                <label for="schoolName">School Name</label>
                <input type="text" id="schoolName" name="schoolName" required>
            </div>

            <!-- Bank Details Section -->
            <div class="bank-details-section">
                <h3>Bank Details</h3>
                <div class="form-group">
                    <label for="bankName">Bank Name</label>
                    <input type="text" id="bankName" name="bankName" required>
                </div>
                <div class="form-group">
                    <label for="accountHolderName">Account Holder Name</label>
                    <input type="text" id="accountHolderName" name="accountHolderName" required>
                </div>
                <div class="form-group">
                    <label for="accountNumber">Account Number</label>
                    <input type="text" id="accountNumber" name="accountNumber" required>
                </div>
            </div>

            <div class="form-group">
                <label for="emergencyContact">Emergency Contact</label>
                <input type="tel" id="emergencyContact" name="emergencyContact" required>
            </div>

            <div class="form-group">
                <label for="siblingsCount">Number of Siblings</label>
                <input type="number" id="siblingsCount" name="siblingsCount" min="0" required>
            </div>

            <div id="siblingsContainer">
                <!-- Siblings will be added here dynamically -->
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="icPassport">IC/Passport Number</label>
                    <input type="text" id="icPassport" name="icPassport" required>
                </div>
            </div>

            <!-- Document Upload Section -->
            <div class="upload-section">
                <h3>Document Upload</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="passportPhoto">Passport/IC Photo</label>
                        <div class="file-upload-container">
                            <input type="file" id="passportPhoto" name="passportPhoto" accept="image/*" required>
                            <label for="passportPhoto" class="file-upload-label">
                                <i class="fas fa-upload"></i>
                                <span>Choose File</span>
                            </label>
                            <span class="file-name" id="passportFileName">No file chosen</span>
                        </div>
                        <small class="upload-note">Please upload a clear photo of your passport or IC</small>
                    </div>

                    <div class="form-group">
                        <label for="selfiePhoto">Selfie Photo</label>
                        <div class="file-upload-container">
                            <input type="file" id="selfiePhoto" name="selfiePhoto" accept="image/*" required>
                            <label for="selfiePhoto" class="file-upload-label">
                                <i class="fas fa-camera"></i>
                                <span>Choose File</span>
                            </label>
                            <span class="file-name" id="selfieFileName">No file chosen</span>
                        </div>
                        <small class="upload-note">Please upload a clear selfie photo</small>
                    </div>
                </div>
            </div>

            <!-- Verification Checkbox -->
            <div class="verification-section">
                <div class="verification-text">
                    <p>I hereby declare that all the information provided in this form is true and accurate to the best of my knowledge. I understand that:</p>
                    <ul>
                        <li>I have double-checked all information entered</li>
                        <li>Any dishonesty or misrepresentation may lead to immediate rejection of my application</li>
                        <li>If employed, any false information may result in on-the-spot termination</li>
                        <li>I am responsible for any consequences arising from false or misleading information</li>
                    </ul>
                </div>
                <div class="verification-checkbox">
                    <input type="checkbox" id="verificationCheck" name="verificationCheck" required>
                    <label for="verificationCheck">I agree to the above declaration</label>
                </div>
            </div>

            <div class="consent-section">
                <div class="consent-text">
                    <p>The company collects and processes your personal data for the purposes of employment administration, payroll, benefits, internal communications and emergency contact information. The data collected may include, but is not limited to, your name, address, contact information, date of birth, employment history, and other relevant information.</p>
                    
                    <p>Data Collection consent</p>
                    <p>We are committed to protecting your personal data and will handle it in accordance with applicable data protection laws. Your data will be stored securely and will only be shared with authorized personnel or third parties as necessary for the stated purposes.</p>
                    
                    <p>You have the right to access, rectify, erase, restrict processing of, and port your personal data. You also have the right to object to the processing of your data.</p>
                </div>
                
                <div class="consent-checkbox">
                    <input type="checkbox" id="dataConsent" name="dataConsent" required>
                    <label for="dataConsent">By checking this box, you consent to this data collection</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">Submit</button>
        </form>
    </div>

    <!-- Success Message -->
    <div id="successMessage" class="success-message">
        <div class="success-content">
            <i class="fas fa-check-circle"></i>
            <h3>Thank You!</h3>
            <p>Your information has been successfully submitted.</p>
            <button class="close-success">Close</button>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <h2>Admin Login</h2>
            <input type="password" id="adminPassword" placeholder="Enter Password">
            <button id="loginBtn">Login</button>
        </div>
    </div>

    <!-- Responses Page -->
    <div id="responsesPage" class="responses-page hidden">
        <h2>Submitted Responses</h2>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search by first name...">
            <i class="fas fa-search"></i>
        </div>
        <div id="responsesList"></div>
    </div>

    <script type="module" src="https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/11.5.0/firebase-analytics.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/11.5.0/firebase-database.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/11.5.0/firebase-storage.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("0fGmuOYK5Kg3rkRQF");
        })();
    </script>
    <script type="module" src="script.js"></script>
</body>
</html> 